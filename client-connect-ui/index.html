<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no,
		initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

	<script src="js/hyper-os.js"></script>
	<script src="js/hyper-viewport.js"></script>

	<title>Evothings Maker</title>

	<style>
		@import 'ui/css/evothings-app.css';
	</style>

	<script src="libs/jquery/jquery.js"></script>
	<script src="libs/fastclick.js"></script>

</head>

<body ontouchstart=""><!-- ontouchstart="" enables low-delay CSS transitions. -->

	<header>
		<img class="logotype" src="ui/images/logo.svg" alt="Evothings" />

		<!-- tabindex and onclick enables :focus selector in some browsers. -->
		<!--
		<button id="menu-button" tabindex="0" onclick="this.focus()">
			<img src="ui/images/menu.svg" />
		</button>
		-->

		<!--
		<menu>
			<menuitem id="info_button">Info</menuitem>
			<menuitem onclick="location.href='gallery.html'">
				App Gallery
			</menuitem>
		</menu>
		-->
	</header>

	<main>

		<h1>Evothings Maker</h1>

		<p>Hi! Begin by connecting to Evothings Workbench.</p>

		<p>Enter the Connect Key displayed in the Workbench project window:</p>
		<input id="hyper-key" type="url" style="width:80%;" />
		<br/>
		<button id="hyper-button-connect" onclick="app.connect()" class="stone">
			CONNECT TO WORKBENCH
		</button>

	</main>

	<script src="libs/evothings/evothings.js"></script>
	<script>
// Application code for the Evothings client.

// Debug logging used when developing the app in Evothings Studio.
if (window.hyper && window.hyper.log) { console.log = hyper.log; console.error = hyper.log }

// Constants.
var SERVER_ADDRESS = 'http://evoserver1-evothings.rhcloud.com'

// Application object.
var app = {}

app.initialize = function()
{
	$(function()
	{
		FastClick.attach(document.body)
	})
}

app.connect = function()
{
	// Get contents of url text field.
	var key = document.getElementById("hyper-key").value

	// Set URL.
	var url = SERVER_ADDRESS + '/hyper/' + key + '/'

	// Open URL.
	window.location.assign(url)
}

// App main entry point.
app.initialize()


	</script>

</body>
</html>
