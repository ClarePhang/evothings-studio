<!DOCTYPE html>
<html>
<!--
File: hyper-ui.html
Description: Main application file. Defines the UI and starts the server.
Author: Mikael Kindborg
Copyright (c) 2013-2015 Evothings AB
-->
<!-- HTML 5 differences from HTML 4: http://www.w3.org/TR/2008/WD-html5-diff-20080122/ -->
<head>
	<meta charset="utf-8">
	<link href="../libs/bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../libs/jquery/jquery-2.1.4.min.js"></script>
	<script src="../libs/jquery/jquery-ui.min.js"></script>
	<script src="../libs/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
	<link href="css/hyper-common.css" rel="stylesheet" />
	<link href="css/hyper-ui.css" rel="stylesheet" />
</head>
<body>
	<div id="panel-page">

		<div id="panel-top">

			<div id="panel-tool-menu">
				<div class="btn-group btn-group-justified">
					<button id="button-tool-menu" class="btn btn-primary dropdown-toggle btn-hyper-toolbar et-btn-charcoal"
						data-toggle="dropdown">
						<span class="glyphicon glyphicon-align-justify"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a id="button-show-settings-dialog" href="javascript:void(0)">Settings</a></li>
						<li><a id="button-show-release-notes" href="javascript:void(0)">Release Notes</a></li>
					</ul>
				</div>
			</div>

			<div id="panel-tool-buttons">
				<div class="btn-group btn-group-justified" role="group">
					<a id="button-connect"
					   class="btn btn-hyper-toolbar et-btn-stone-light"
					   href="javascript:void(0)">Start</a>
					<a id="button-examples"
						class="btn btn-hyper-toolbar et-btn-stone-light"
						href="javascript:void(0)">Examples</a>
					<a id="button-projects"
						class="btn btn-hyper-toolbar et-btn-stone-light"
						href="javascript:void(0)">My Apps</a>
					<a id="button-tools"
						class="btn btn-hyper-toolbar btn-toolbar et-btn-white"
						href="javascript:void(0)" style="border-left">Tools</a>
					<a id="button-documentation"
						class="btn btn-hyper-toolbar btn-toolbar et-btn-white"
						href="javascript:void(0)">Docs</a>
					<a id="button-forum"
						class="btn btn-hyper-toolbar btn-toolbar et-btn-white"
						href="javascript:void(0)">Forum</a>
				</div>
			</div>

		</div>

		<div id="panel-middle">
			<!-- ModalDialog-NoClientConnected--->
			<div class="modal fade" id="ModalDialog-NoClientConnected" tabindex="-1" role="dialog" aria-labelledby="ModalDialog-NoClientConnected-Label" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="ModalDialog-NoClientConnected-Label">No client connected</h4>
						</div>
						<div class="modal-body">
							Please connect from the <a href="javascript:void(0)" id="ModalDialog-NoClientConnected-ClientAppLink">Evothings Viewer</a> app.
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Modal dialog: dialog-settings -->
			<div class="modal fade"
				id="dialog-settings"
				tabindex="-1"
				role="dialog"
				aria-labelledby="dialog-settings-label"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="dialog-settings-label">
								Settings Dialog
							</h4>
						</div>

						<div class="modal-body">
							<div class="form-group">
								<label for="input-setting-javascript-workbench-font-size">
									Tools window font size (text areas):</label>
								<input type="text"
									id="input-setting-javascript-workbench-font-size"
									class="form-control"
									placeholder="18px"/>
							</div>
							<div class="form-group">
								<label for="input-setting-number-of-directory-levels">
									Number of directory levels to monitor for live reload:</label>
								<input type="text"
									id="input-setting-number-of-directory-levels"
									class="form-control"
									placeholder="3"/>
							</div>
							<div class="form-group">
								<label for="input-setting-reload-server-address">
									Address of Reload Server:</label>
								<input type="text"
									id="input-setting-reload-server-address"
									class="form-control"
									placeholder=""/>
							</div>
						</div>

						<div class="modal-footer">
								<button id="button-save-settings"
									type="button"
									class="btn btn-success">
									Save
								</button>
							<button type="button"
								class="btn btn-default"
								data-dismiss="modal">
								Dismiss
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Start screen -->
			<div id="screen-connect">
				<div class="panel">
					<div class="panel-body">

						<button id="button-toogle-help"
							type="button"
							class="btn et-btn-charcoal">
							Hide Help
						</button>

						<img class="screen-start-logotype"
							src="images/logo.svg" alt="Evothings" />

						<div class="screen-start-help">
							<h1>Getting Started</h1>
							<p>Evothings Studio consists of two connected parts, Evothings Workbench and the Evothings Viewer app. Install <strong>Evothings Viewer</strong> on your mobile devices from Google Play and Apple App Store.</p>
							<p>From the Workbench you can run apps in connected Viewers. The currently running app will be reloaded automatically when saving edited code files.</p>
							<p><strong>To connect to the Workbench from Evothings Viewer, you need Internet access and a connect key.</strong></p>
							<p><strong>Click the "Get Key" button below to obtain a connect key.</strong> Use this key when connecting from the Viewer. Click "Get Key" again if the key times out. Once connected, your session has no time limit.</p>
							<p>Login to get a quick connect button in Evothings Viewer. This button is displayed when you restart the Viewer and allows you to reconnect to the Workbench where you are logged in, without entering a connect code.</p>
							<p>For further details and a Getting Started guide, <a id="button-open-documentation" href="javascript:void(0)">visit the documentation</a>.</p>
						</div>

						<div>
							<button id="button-login"
								type="button"
								class="btn et-btn-blue">
								Login
							</button>
							<button id="button-get-connect-key"
								type="button"
								class="btn et-btn-green">
								Get Key <span id="connect-spinner" class="glyphicon glyphicon-refresh glyphicon-spin"></span>
							</button>
						</div>

						<div>
						</div>

						<div>
							<p id="connect-key"></p>
						</div>

						<div>
							<p id="connect-screen-message"></p>
						</div>

<!--
						<div style="padding-top:10px;">
							<p class="screen-start-ui-help">Login to get a quick connect button in Evothings Viewer. This button is displayed when you restart the Viewer and allows you to reconnect to the Workbench where you are logged in.</p>
						</div>
-->
						<!-- Div that holds the login iframe -->
						<div id="connect-screen-login">
							<button id="connect-screen-login-close-button" class="btn btn-hyper-toolbar et-btn-stone-light">
								Close
							</button>
							<iframe id="connect-screen-login-iframe" nwdisable nwfaketop>
							</iframe>
							<h1 style="display:none;" id="connect-screen-login-loading-message">Loading...</h1>
						</div>

						<!-- Hidden logout iframe -->
						<iframe id="connect-screen-logout-iframe"
							style="display:none;"
							src="" nwdisable nwfaketop>
						</iframe>
					</div>
				</div>
			</div>
			<!-- End of Start screen -->

			<!-- Example screen -->
			<div id="screen-examples" class="project-list"></div>

			<!-- My apps screen -->
			<div id="screen-projects" class="project-list"></div>

		</div>

		<div id="panel-bottom">
			<div>
				<p style="float:left;">Status: <b><span id="connect-address">Waiting to connect</span></b></p>
				<p style="float:left;margin-left:25px"><b><span id="login-info">Not Logged In</span></b></p>
				<p style="float:right;">Clients: <b><span id="connect-counter">0</span></b> Files: <b><span id="files-counter">0</span></b></p>
			</div>
		</div>

		<div id="drag-overlay">
			<div class="ui-corner-all">
				<h1>Drop HTML file here</h1>
				<h4>Drop the main HTML file of your project here to
				add it to the project list. You can rearrange the list
				by drag and drop of items.</h4>
			</div>
		</div>

	</div> <!-- panel-page -->

	<script src="hyper-ui.js"></script>
</body>
</html>
