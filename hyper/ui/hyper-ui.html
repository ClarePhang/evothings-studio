<!DOCTYPE html>
<html>
<!--
File: hyper-ui.html
Description: Main application file. Defines the UI and starts the server.
Author: Mikael Kindborg
Copyright (c) 2013-2015 Evothings AB
-->
<!-- HTML 5 differences from HTML 4: http://www.w3.org/TR/2008/WD-html5-diff-20080122/ -->
<head>
	<meta charset="utf-8">
	<link href="../libs/bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="../libs/jquery/jquery-2.1.4.min.js"></script>
	<script src="../libs/jquery/jquery-ui.min.js"></script>
	<script src="../libs/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
	<link href="css/hyper-common.css" rel="stylesheet" />
	<link href="css/hyper-ui.css" rel="stylesheet" />
</head>
<body>
	<div id="panel-page">

		<div id="panel-top">

			<!-- Menu button - unused version with icon -->
			<!--
			<div id="panel-tool-menu">
				<div class="btn-group btn-group-justified">
					<button id="button-tool-menu" class="btn btn-primary dropdown-toggle btn-hyper-toolbar et-btn-charcoal"
						data-toggle="dropdown">
						<span class="glyphicon glyphicon-align-justify"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a id="button-open-settings-dialog" href="javascript:void(0)">Settings</a></li>
						<li><a id="button-release-notes" href="javascript:void(0)">Release Notes</a></li>
					</ul>
				</div>
			</div>
			-->

			<!-- Menu button - version with text -->
			<div id="panel-tool-menu">
				<div class="btn-group btn-group-justified">
					<button id="button-tool-menu" role="button"
						class="btn btn-primary dropdown-toggle btn-hyper-toolbar et-btn-charcoal"
						data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
						More <span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a id="button-getting-started"
							role="button" href="javascript:void(0)">
							Getting Started</a></li>
						<li><a class="button-documentation"
							role="button" href="javascript:void(0)">
							Documentation</a></li>
						<li><a id="button-examples-documentation"
							role="button" href="javascript:void(0)">
							Examples Documentation</a></li>
						<li><a id="button-release-notes"
							role="button" href="javascript:void(0)">
							Release Notes</a></li>
						<li><a id="button-forum"
							role="button" href="javascript:void(0)">
							Forum</a></li>
						<li><a id="button-news"
							role="button" href="javascript:void(0)">
							News</a></li>
						<li><a id="button-feedback"
							role="button" href="javascript:void(0)">
							Feedback</a></li>
						<li><a id="button-tell-a-friend"
							role="button" href="javascript:void(0)">
							Tell a friend</a></li>
						<li><a id="button-open-settings-dialog"
							role="button" href="javascript:void(0)">
							Settings</a></li>
					</ul>
				</div>
			</div>

			<div id="panel-tool-buttons">
				<div class="btn-group btn-group-justified" role="group">
					<a id="button-connect"
					   class="btn btn-hyper-toolbar et-btn-stone"
					   href="javascript:void(0)">Connect</a>
					<a id="button-examples" role="button"
						class="btn btn-hyper-toolbar et-btn-stone"
						href="javascript:void(0)">Examples</a>
					<a id="button-projects" role="button"
						class="btn btn-hyper-toolbar et-btn-stone"
						href="javascript:void(0)">My Apps</a>
					<a id="button-new-app" role="button"
						class="btn btn-hyper-toolbar et-btn-indigo"
						href="javascript:void(0)">New</a>
					<a id="button-tools" role="button"
						class="btn btn-hyper-toolbar btn-toolbar et-btn-blue"
						href="javascript:void(0)" style="border-left">Tools</a>
				</div>
			</div>

		</div>

		<div id="panel-middle">
			<!-- ModalDialog-NoClientConnected--->
			<div class="modal fade" id="ModalDialog-NoClientConnected" tabindex="-1" role="dialog" aria-labelledby="ModalDialog-NoClientConnected-Label" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="ModalDialog-NoClientConnected-Label">No Evothings Viewer app connected</h4>
						</div>
						<div class="modal-body">
							Please connect from the Evothings Viewer</a> app on your mobile device(s). Learn more on the <a href="javascript:void(0)" id="ModalDialog-NoClientConnected-HelpLink">Getting Started screen</a>.
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Modal dialog: dialog-settings -->
			<div class="modal fade"
				id="dialog-settings"
				tabindex="-1"
				role="dialog"
				aria-labelledby="dialog-settings-label"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="dialog-settings-label">
								Settings
							</h4>
						</div>

						<div class="modal-body">
							<div class="form-group">
								<label for="input-setting-javascript-workbench-font-size">
									Tools window font size (text areas):</label>
								<input type="text"
									id="input-setting-javascript-workbench-font-size"
									class="form-control"
									placeholder="18px"/>
							</div>
							<div class="form-group">
								<label for="input-setting-number-of-directory-levels">
									Number of app directory levels to monitor for live reload:</label>
								<input type="text"
									id="input-setting-number-of-directory-levels"
									class="form-control"
									placeholder="3"/>
							</div>
							<div class="form-group">
								<label for="input-setting-my-apps-path">
									Path to My Apps folder:</label>
								<input type="text"
									id="input-setting-my-apps-path"
									class="form-control"/>
							</div>
							<div class="form-group">
								<label for="input-setting-reload-server-address">
									Address of Reload Server:</label>
								<input type="text"
									id="input-setting-reload-server-address"
									class="form-control"/>
							</div>
						</div>

						<div class="modal-footer">
							<button id="button-save-settings"
								type="button"
								class="btn btn-success">
								Save
							</button>
							<button type="button"
								class="btn btn-default"
								data-dismiss="modal">
								Dismiss
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Modal dialog: dialog-new-app -->
			<div class="modal fade"
				id="dialog-new-app"
				tabindex="-1"
				role="dialog"
				aria-labelledby="dialog-new-app-label"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="dialog-new-app-label">
								New App
							</h4>
						</div>

						<div class="modal-body">
							<div class="form-group">
								<label for="input-new-app-folder">
									Enter app folder name:</label>
								<input type="text"
									id="input-new-app-folder"
									class="form-control"
									value="MyNewApp"
									placeholder="AppFolderName"/>
							</div>
							<div class="form-group">
								<label for="input-new-app-parent-folder">
									Parent folder where app is created:</label>
								<input type="text"
									id="input-new-app-parent-folder"
									class="form-control"/>
							</div>
						</div>

						<div class="modal-footer">
							<button id="button-save-new-app"
								type="button"
								class="btn btn-success">
								Create
							</button>
							<button type="button"
								class="btn btn-default"
								data-dismiss="modal">
								Dismiss
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Modal dialog: dialog-copy-app -->
			<div class="modal fade"
				id="dialog-copy-app"
				tabindex="-1"
				role="dialog"
				aria-labelledby="dialog-copy-app-label"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h4 class="modal-title" id="dialog-copy-app-label">
								Copy Example App
							</h4>
						</div>

						<div class="modal-body">
							<input id="input-copy-app-source-path" type="hidden" value="">
							<div class="form-group">
								<label for="input-copy-app-target-folder">
									Destination folder name:</label>
								<input type="text"
									id="input-copy-app-target-folder"
									class="form-control"
									placeholder="AppFolderName"/>
							</div>
							<div class="form-group">
								<label for="input-copy-app-target-parent-folder">
									Parent folder where app is saved:</label>
								<input type="text"
									id="input-copy-app-target-parent-folder"
									class="form-control"/>
							</div>
						</div>

						<div class="modal-footer">
							<button id="button-save-copy-app"
								type="button"
								class="btn btn-success">
								Create
							</button>
							<button type="button"
								class="btn btn-default"
								data-dismiss="modal">
								Dismiss
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Getting Started screen -->
			<div id="screen-getting-started">
				<div class="panel">
					<div class="panel-body">

						<img class="screen-start-logotype"
							src="images/logo.svg" alt="Evothings" />

						<div class="style-big-para style-small-h2">
							<h1>Getting Started</h1>

							<p>(You can view this screen at any time by selecting "Getting Started" in the "More" dropdown menu.)</p>

							<h2>Run apps you develop directly on mobile devices</h2>

							<p>Evothings Studio consists of two connected parts, Evothings Workbench (the application you are currently running) and the Evothings Viewer app running on your mobile device(s). You need both parts to be able to use Evothings Studio.</p>

							<p>Run apps on connected Viewers by clicking RUN on the apps under "Examples" and "My Apps". The currently running app will be automatically reloaded when saving edited code files.</p>

							<h2>Step 1: Install Evothings Viewer</h2>

							<p>Install the Evothings Viewer application on your mobile device(s), get the app from Google Play or Apple App Store.</p>

							<h2>Step 2: Connect to the Workbench from the Viewer</h2>

							<p>To connect the Evothings Viewer app to the Workbench, you need Internet access and a connect key.</p>

							<p>Go to the <strong>Connect</strong> tab and click the <button type="button" class="btn et-btn-green" style="font-size:80%;">Get Key</button> button to obtain a connect key code. Use this code when connecting from the Viewer. Once connected, your session has no time limit. Click the "Get Key" button again if the key times out.</p>

							<p>Click <button type="button" class="btn et-btn-blue" style="font-size:80%;">Login</button> on the Connect screen to get a Quick-Connect button in the Evothings Viewer app. This button is displayed when you restart the Viewer and allows you to reconnect to the Workbench where you are logged in, without entering a connect key again. This makes it much quicker to connect to same Workbench.</p>

							<h2>Step 3: How to create a new app</h2>

							<p>To create your own apps you have two options. Copy one of the example apps (click COPY) and modify it for your own purposes, or click the NEW button.</p>

							<p>You can also drag and drop an .html file (typically index.html) to this window to add an existing app under <strong>My Apps</strong>.</p>

							<p>Arrange apps using drag and drop (example apps cannot be rearranged). Click the close icon (x) to delete an app entry. This will NOT delete the application files.</p>

							<p>For further details and a Getting Started guide, <a class="button-documentation" href="javascript:void(0)">visit the documentation</a>.</p>
						</div>

						<!-- TODO: Show in iframe served from web server -->
						<!--
						<iframe id="getting-started-screen-iframe"
							style="display:none;"
							src="" nwdisable nwfaketop>
						</iframe>
						-->
					</div>
				</div>
			</div>
			<!-- End of Getting Started screen -->

			<!-- Connect screen -->
			<div id="screen-connect">
				<div class="panel">
					<div class="panel-body">

						<h1>Connect and Login</h1>

						<div class="screen-start-help style-big-para">
							<p><strong>To connect to the Workbench from Evothings Viewer, you need Internet access and a connect key.</strong></p>
						</div>

						<div class="connect-key-table connect-screen-element">
							<button id="button-get-connect-key"
								type="button"
								class="btn et-btn-green connect-key-item">
								Get Key <span id="connect-spinner" class="glyphicon glyphicon-refresh"></button>
							<div id="connect-key" class="connect-key-item"></div>
						</div>

						<div>
							<p id="connect-screen-message" class="connect-screen-element">Server message goes here</p>
						</div>

						<div class="screen-start-help framed-box style-big-para">
							<p><strong>Click the "Get Key" button to obtain a connect key.</strong> Use this key when connecting from the Viewer. Click "Get Key" again if the key times out. Once connected, your session has no time limit.</p>
						</div>

						<span>
							<button id="button-login"
								type="button"
								class="btn et-btn-blue connect-screen-element">
								Login
							</button>
							<input id="remember-checkbox" type="checkbox">
							<label for="remember-checkbox">Remember my account at Google or Github at next login</label>
						</span>

						<div class="screen-start-help framed-box style-big-para">
							<p><strong>Login</strong> to get a quick-connect button in Evothings Viewer. This button is displayed when you restart the Viewer and allows you to reconnect to the Workbench where you are logged in, without entering a connect code.</p>
						</div>

						<button id="button-toogle-help" type="button"
							class="btn et-btn-charcoal connect-screen-element">
							Hide Help
						</button>

						<!-- Div that holds the login iframe -->
						<div id="connect-screen-login">
							<button id="connect-screen-login-close-button" class="btn btn-hyper-toolbar et-btn-stone-light">
								Close
							</button>
							<iframe id="connect-screen-login-iframe" nwdisable nwfaketop>
							</iframe>
							<h1 style="display:none;" id="connect-screen-login-loading-message">Loading...</h1>
						</div>

						<!-- Hidden logout iframe -->
						<iframe id="connect-screen-logout-iframe"
							style="display:none;"
							src="" nwdisable nwfaketop>
						</iframe>
					</div>
				</div>
			</div>
			<!-- End of Connect screen -->

			<!-- Example screen -->
			<div id="screen-examples" class="project-list"></div>

			<!-- My apps screen -->
			<div id="screen-projects" class="project-list"></div>

		</div>

		<div id="panel-bottom">
			<div>
				<p style="float:left;">Status: <b><span id="connect-address">Waiting to connect</span></b></p>
				<p style="float:left;margin-left:25px"><b><span id="login-info">Not Logged In</span></b></p>
				<p style="float:right;">Clients: <b><span id="connect-counter">0</span></b> Files: <b><span id="files-counter">0</span></b></p>
			</div>
		</div>

		<div id="drag-overlay">
			<div class="ui-corner-all">
				<h1>Drop HTML file here</h1>
				<h4>Drop the main HTML file of your application here to
				add it to the list. You can rearrange the list
				by drag and drop of items. Deleting an item using the x-icon will NOT remove any application files.</h4>
			</div>
		</div>

	</div> <!-- panel-page -->

	<script src="hyper-ui.js"></script>
</body>
</html>
