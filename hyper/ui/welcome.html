<!DOCTYPE html>
<html>
<!--
File: welcome.html
Description: Welcome page for Evothings Studio.
Author: Eric Svensson
Copyright (c) 2013-2015 Evothings AB
-->
<head>

	<meta charset="utf-8">

	<title>Welcome</title>

	<style>
	@import '../server/ui/css/evothings-app.css';

	html, body {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
	}

	body {
		width: 93.5%;
		margin: 0 3.25% 0 3.25%;
		font-size: 300%;
		font-size: 5vmin;
	}

	/* Add a top margin to the content corresponding to the height of the header. */
	body::before {
		height: 3%;
		margin-bottom: 0;
	}

	button {
		font-family: 'Proxima Nova Regular', sans-serif;
		font-weight: normal;
	}

	.logotype {
		position: absolute;
		width: 10%;
		top: 2%;
		right: 2%;
	}

	.download-links img,
	.download-links button {
		vertical-align: middle;
		display: inline-block;
		height: 2em;
		line-height: 2em;
		text-transform: none;
		margin: 0;
		padding: 0;
	}
	.download-links button {
		padding: 0 0.5em;
	}

	#checkboxContainer {
		position: fixed;
		bottom: 0px;
		left: 0px;
		width: 100%;
		height: 30px;
		padding: 5px;
		border: none;
		z-index: 1000;
		background: -moz-linear-gradient(180deg, #f7f7f7, #fff, #fff, #fff, #fff);
		background: -webkit-linear-gradient(180deg, #f7f7f7, #fff, #fff, #fff, #fff);
		background: -o-linear-gradient(180deg, #f7f7f7, #fff, #fff, #fff, #fff);
		background: linear-gradient(180deg, #f7f7f7, #fff, #fff, #fff, #fff);
	}
	#checkboxContainer label {
		font-size: 18px;
	}
	</style>

</head>

<body>

	<h1>Welcome to Evothings Studio!</h1>

	<img class="logotype" src="../server/ui/images/logo.svg" alt="Evothings" />

	<p>
		Evothings Studio consists of two connected parts, Evothings Workbench and the Evothings Viewer app.
	</p>

	<p>
		Next step is to install <strong>Evothings Viewer</strong> on your mobile devices, unless you have already done that. Get the app from Google Play and Apple App Store.
	</p>

	<p><strong>To connect from Evothings Viewer to Evothings Workbench you need an Internet connection and a connect key. Get a key in the Connect tab of the Workbench window.</strong></p>

	<p>For further details and a Getting Started guide, <a href="javascript:void(0)" onclick="openDocumentation()">visit the documentation</a>.</p>

	<p>Please open the <a href="javascript:void(0)" onclick="openReleaseNotes()">release notes</a> for a summary of what is new in Evothings Studio 2.0.</p>

	<p>Happy tinkering!</p>

	<div id="checkboxContainer">
		<div>
			<input type="checkbox" id="showScreenAtStartup" value="1"
				checked="checked" />
			<label for="showScreenAtStartup">
				Show this screen at startup</label>
		</div>
	</div>

	<script src="../libs/jquery/jquery-2.1.4.min.js"></script>

	<script>
	var GUI = require('nw.gui')
	var PATH = require('path')
	var SETTINGS = require('../settings/settings.js')

	function openDocumentation()
	{
		var url = 'file://' + PATH.resolve('./documentation/index.html')
		openInBrowser(url)
	}

	function openReleaseNotes()
	{
		var url = 'file://' + PATH.resolve('./documentation/studio/release-notes.html')
		openInBrowser(url)
	}

	function openInBrowser(url)
	{
		GUI.Shell.openExternal(url)
	}

	function setShowWelcomeScreen(show)
	{
		SETTINGS.setShowWelcomeScreen(show ? 'yes' : 'no')
	}

	function getShowWelcomeScreen()
	{
		return 'no' != SETTINGS.getShowWelcomeScreen()
	}

	$('#showScreenAtStartup').prop('checked', getShowWelcomeScreen())
	$('#showScreenAtStartup').change(function(e)
	{
		try
		{
			setShowWelcomeScreen($(this).is(':checked'))
		}
		catch (err)
		{
			alert('Failed to save Welcome Screen setting.')
		}
	})
	</script>

</body>

</html>
